{"version":3,"sources":["uni-app:///main.js","webpack:///D:/project2021/healthManage_miniProgram/healthManage_miniProgram/pages/exp/exp.vue?6e12","webpack:///D:/project2021/healthManage_miniProgram/healthManage_miniProgram/pages/exp/exp.vue?6db7","webpack:///D:/project2021/healthManage_miniProgram/healthManage_miniProgram/pages/exp/exp.vue?027c","webpack:///D:/project2021/healthManage_miniProgram/healthManage_miniProgram/pages/exp/exp.vue?40ad","uni-app:///pages/exp/exp.vue","webpack:///D:/project2021/healthManage_miniProgram/healthManage_miniProgram/pages/exp/exp.vue?a7c8","webpack:///D:/project2021/healthManage_miniProgram/healthManage_miniProgram/pages/exp/exp.vue?dffe"],"names":["createPage","Page"],"mappings":"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","file":"pages/exp/exp.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/exp/exp.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./exp.vue?vue&type=template&id=5299b57c&scoped=true&\"\nvar renderjs\nimport script from \"./exp.vue?vue&type=script&lang=js&\"\nexport * from \"./exp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./exp.vue?vue&type=style&index=0&id=5299b57c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5299b57c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/exp/exp.vue\"\nexport default component.exports","export * from \"-!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exp.vue?vue&type=template&id=5299b57c&scoped=true&\"","var components\ntry {\n  components = {\n    uRow: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-row/u-row\" */ \"uview-ui/components/u-row/u-row.vue\"\n      )\n    },\n    uCol: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-col/u-col\" */ \"uview-ui/components/u-col/u-col.vue\"\n      )\n    },\n    uImage: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-image/u-image\" */ \"uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-button/u-button\" */ \"uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uEmpty: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-empty/u-empty\" */ \"uview-ui/components/u-empty/u-empty.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uModal: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-modal/u-modal\" */ \"uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n    uForm: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-form/u-form\" */ \"uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-form-item/u-form-item\" */ \"uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-input/u-input\" */ \"uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uUpload: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-upload/u-upload\" */ \"uview-ui/components/u-upload/u-upload.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.addModal = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exp.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<block v-if=\"show\">\r\n\t\t\t<view class=\"comment\" v-for=\"(item, index) in commentList\" :key=\"index\">\r\n\t\t\t\t<view class=\"left\"><image :src=\"item.avatar ? item.avatar : '/static/images/userIcon.png'\" mode=\"aspectFill\"></image></view>\r\n\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t<view class=\"top\">\r\n\t\t\t\t\t\t<view class=\"name\">{{ item.sendername }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t<p>#{{ item.title }}</p>\r\n\t\t\t\t\t\t{{ item.content }}\r\n\t\t\t\t\t\t<view style=\"padding: 10upx 0;\" v-if=\"item.imgs\">\r\n\t\t\t\t\t\t\t<u-row gutter=\"16\">\r\n\t\t\t\t\t\t\t\t<u-col span=\"4\" v-for=\"(itemImg, indexImg) in item.imgs\" :key=\"indexImg\">\r\n\t\t\t\t\t\t\t\t\t<view style=\"padding-top: 10upx;\">\r\n\t\t\t\t\t\t\t\t\t\t<u-image :border-radius=\"20\" width=\"180\" height=\"180\" :src=\"itemImg\" mode=\"aspectFill\" @click=\"previewImage(itemImg, item.imgs)\"></u-image>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</u-col>\r\n\t\t\t\t\t\t\t</u-row>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"reply-box\">\r\n\t\t\t\t\t\t<view class=\"item\" v-for=\"(replysItem, replysIndex) in item.replys\" :key=\"replysIndex\" :style=\"replysIndex == item.replys.length - 1 ? 'border-bottom:none' : ''\">\r\n\t\t\t\t\t\t\t<view class=\"left\"><image :src=\"item.avatar ? item.avatar : '/static/images/userIcon.png'\" mode=\"aspectFill\"></image></view>\r\n\t\t\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t\t\t<view class=\"username\">{{ replysItem.name }}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"text\">{{ replysItem.content }}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"sendTime\">{{ replysItem.time }}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"bottom\">\r\n\t\t\t\t\t\t<text>{{ item.sendtime }}</text>\r\n\t\t\t\t\t\t<u-button type=\"primary\" size=\"mini\" @click=\"reply(item.id)\">回复</u-button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t\t<view style=\"padding-top: 400upx;\" v-if=\"commentList.length == 0 || !commentList\"><u-empty text=\"暂无内容\" mode=\"list\"></u-empty></view>\r\n\r\n\t\t<view style=\"height: 150upx;\"></view>\r\n\r\n\t\t<view class=\"addBox\">\r\n\t\t\t<u-button type=\"primary\" @click=\"addModal = true\">\r\n\t\t\t\t<u-icon name=\"chat\" class=\"u-m-r-20\"></u-icon>\r\n\t\t\t\t留言\r\n\t\t\t</u-button>\r\n\t\t</view>\r\n\t\t<u-modal v-model=\"addModal\" class=\"addModal\" title=\"添加留言\" :show-confirm-button=\"false\" mask-close-able>\r\n\t\t\t<view class=\"u-p-40\">\r\n\t\t\t\t<u-form :model=\"addForm\" ref=\"addForm\" label-position=\"top\">\r\n\t\t\t\t\t<u-form-item label=\"标题\" required><u-input v-model=\"addForm.title\" placeholder=\"请填写标题\" /></u-form-item>\r\n\t\t\t\t\t<u-form-item label=\"内容\" :border-bottom=\"false\" required>\r\n\t\t\t\t\t\t<u-input type=\"textarea\" auto-height :height=\"200\" placeholder-style=\"color: #303133\" :maxlength=\"300\" placeholder=\"请填写内容\" v-model=\"addForm.msgContent\" />\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<u-form-item :label=\"'上传图片'\" :border-bottom=\"false\">\r\n\t\t\t\t\t\t<u-upload max-count=\"9\" :width=\"150\" :height=\"150\" name=\"img\" @on-success=\"imgUpload\" action=\"https://api.ifufan.com:8800/upload\"></u-upload>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t</u-form>\r\n\t\t\t\t<u-button type=\"primary\" @click=\"add\">提交</u-button>\r\n\t\t\t</view>\r\n\t\t</u-modal>\r\n\r\n\t\t<u-modal v-model=\"replyModal\" class=\"addModal\" title=\"回复留言\" :show-confirm-button=\"false\" mask-close-able>\r\n\t\t\t<view class=\"u-p-40\">\r\n\t\t\t\t<u-form :model=\"addForm\" ref=\"addForm\" label-position=\"top\">\r\n\t\t\t\t\t<u-form-item label=\"内容\" :border-bottom=\"false\" required>\r\n\t\t\t\t\t\t<u-input type=\"textarea\" auto-height :height=\"200\" placeholder-style=\"color: #303133\" :maxlength=\"300\" placeholder=\"请填写内容\" v-model=\"replyContent\" />\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t</u-form>\r\n\t\t\t\t<u-button type=\"primary\" @click=\"replySend\">提交</u-button>\r\n\t\t\t</view>\r\n\t\t</u-modal>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nconst app = getApp();\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcommentList: [],\r\n\t\t\tshow: false,\r\n\t\t\taddModal: false,\r\n\t\t\taddForm: {},\r\n\t\t\treplyModal: false,\r\n\t\t\treplyContent: '',\r\n\t\t\tpagenumber: 1,\r\n\t\t\tpagesize: 5,\r\n\t\t\timgs: []\r\n\t\t};\r\n\t},\r\n\tonLoad() {\r\n\t\tthis.getExpList();\r\n\t},\r\n\tonShow() {},\r\n\twatch: {\r\n\t\tcommentList() {\r\n\t\t\tthis.show = false;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.show = true;\r\n\t\t\t}, 10);\r\n\t\t}\r\n\t},\r\n\tonReachBottom() {\r\n\t\tthis.getExpList();\r\n\t},\r\n\tmethods: {\r\n\t\t//获取经验记录\r\n\t\tgetExpList() {\r\n\t\t\twx.request({\r\n\t\t\t\turl: app.globalData.appHttps + '/topic/gettopic',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theader: {\r\n\t\t\t\t\tAccept: '*/*',\r\n\t\t\t\t\t'Content-Type': 'application/json;charset=UTF-8',\r\n\t\t\t\t\t'X-Access-Token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTg3OTY1NzMsInVzZXJuYW1lIjoieHMxODB4eHh4ODQ4NCJ9.vURqw-2UrWXA_mjL69Ts5vZfEmKl1M8ZSIqKf25A-iY'\r\n\t\t\t\t},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tsjkids: uni.getStorageSync('sjkids'),\r\n\t\t\t\t\tpagesize: this.pagesize,\r\n\t\t\t\t\tpagenumber: this.pagenumber,\r\n\t\t\t\t\thasReply: 1\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\tif (res.data.data.length > 0) {\r\n\t\t\t\t\t\t\tfor (let i in res.data.data) {\r\n\t\t\t\t\t\t\t\tres.data.data[i].imgs = JSON.parse(res.data.data[i].imgs);\r\n\t\t\t\t\t\t\t\tres.data.data[i].sendtime = this.dateStr(res.data.data[i].sendtime);\r\n\t\t\t\t\t\t\t\tfor(let j in res.data.data[i].replys){\r\n\t\t\t\t\t\t\t\t\tres.data.data[i].replys[j].time = this.dateStr(res.data.data[i].replys[j].time);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.commentList = [...this.commentList, ...res.data.data];\r\n\t\t\t\t\t\t\t\tthis.pagenumber++;\r\n\t\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\treply(id) {\r\n\t\t\tthis.replyId = id;\r\n\t\t\tthis.replyModal = true;\r\n\t\t},\r\n\r\n\t\treplySend() {\r\n\t\t\tif (!this.replyContent) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请填写内容',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\twx.request({\r\n\t\t\t\turl: app.globalData.appHttps + '/topic/addReply',\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theader: {\r\n\t\t\t\t\tAccept: '*/*',\r\n\t\t\t\t\t'Content-Type': 'application/json;charset=UTF-8',\r\n\t\t\t\t\t'X-Access-Token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTg3OTY1NzMsInVzZXJuYW1lIjoieHMxODB4eHh4ODQ4NCJ9.vURqw-2UrWXA_mjL69Ts5vZfEmKl1M8ZSIqKf25A-iY'\r\n\t\t\t\t},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\ttopicid: this.replyId,\r\n\t\t\t\t\tcontent: this.replyContent,\r\n\t\t\t\t\tname: uni.getStorageSync('userInfo').nickName,\r\n\t\t\t\t\tavatar: uni.getStorageSync('userInfo').avatarUrl\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '提交成功'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.replyModal = false;\r\n\t\t\t\t\t\tthis.pagenumber = 1;\r\n\t\t\t\t\t\tthis.commentList = [];\r\n\t\t\t\t\t\tthis.getExpList();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//留言\r\n\t\tadd() {\r\n\t\t\tif (!this.addForm.title) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请填写标题',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (!this.addForm.msgContent) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请填写内容',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\twx.request({\r\n\t\t\t\turl: app.globalData.appHttps + '/topic/addTopic',\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theader: {\r\n\t\t\t\t\tAccept: '*/*',\r\n\t\t\t\t\t'Content-Type': 'application/json;charset=UTF-8',\r\n\t\t\t\t\t'X-Access-Token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MTg3OTY1NzMsInVzZXJuYW1lIjoieHMxODB4eHh4ODQ4NCJ9.vURqw-2UrWXA_mjL69Ts5vZfEmKl1M8ZSIqKf25A-iY'\r\n\t\t\t\t},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tsjkids: uni.getStorageSync('sjkids'),\r\n\t\t\t\t\t// dsid: this.illnessInfo.id,\r\n\t\t\t\t\ttitle: this.addForm.title,\r\n\t\t\t\t\tcontent: this.addForm.msgContent,\r\n\t\t\t\t\timgs: JSON.stringify(this.imgs),\r\n\t\t\t\t\tsendername: uni.getStorageSync('userInfo').nickName,\r\n\t\t\t\t\tavatar: uni.getStorageSync('userInfo').avatarUrl\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '提交成功'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.addModal = false;\r\n\t\t\t\t\t\tthis.pagenumber = 1;\r\n\t\t\t\t\t\tthis.commentList = [];\r\n\t\t\t\t\t\tthis.getExpList();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t// 上传图片\r\n\t\timgUpload(data) {\r\n\t\t\tconsole.log(data);\r\n\t\t\tif (data.code == 200) {\r\n\t\t\t\tthis.imgs.push('https://api.ifufan.com:8800/img/' + data.data.filename);\r\n\t\t\t\tconsole.log(this.imgs);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpreviewImage(url, urls) {\r\n\t\t\twx.previewImage({\r\n\t\t\t\tcurrent: url, // 当前显示图片的http链接\r\n\t\t\t\turls: urls // 需要预览的图片http链接列表\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tdateStr(date) {\r\n\t\t\t//获取js 时间戳\r\n\t\t\t// var dateTimeStamp = new Date(date).getTime();\r\n\t\t\tvar time = new Date().getTime();\r\n\t\t\t//去掉 js 时间戳后三位，与php 时间戳保持一致\r\n\t\t\ttime = parseInt((time - date) / 1000);\r\n\t\t\t//存储转换值\r\n\t\t\tvar s;\r\n\t\t\tif (time < 60 * 10) {\r\n\t\t\t\t//十分钟内\r\n\t\t\t\treturn '刚刚';\r\n\t\t\t} else if (time < 60 * 60 && time >= 60 * 10) {\r\n\t\t\t\t//超过十分钟少于1小时\r\n\t\t\t\ts = Math.floor(time / 60);\r\n\t\t\t\treturn s + '分钟前';\r\n\t\t\t} else if (time < 60 * 60 * 24 && time >= 60 * 60) {\r\n\t\t\t\t//超过1小时少于24小时\r\n\t\t\t\ts = Math.floor(time / 60 / 60);\r\n\t\t\t\treturn s + '小时前';\r\n\t\t\t} else if (time < 60 * 60 * 24 * 3 && time >= 60 * 60 * 24) {\r\n\t\t\t\t//超过1天少于3天内\r\n\t\t\t\ts = Math.floor(time / 60 / 60 / 24);\r\n\t\t\t\treturn s + '天前';\r\n\t\t\t} else {\r\n\t\t\t\t//超过3天\r\n\t\t\t\treturn date;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.comment {\r\n\tdisplay: flex;\r\n\tpadding: 30rpx;\r\n\t.left {\r\n\t\timage {\r\n\t\t\twidth: 80rpx;\r\n\t\t\theight: 80rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tbackground-color: #f2f2f2;\r\n\t\t}\r\n\t}\r\n\t.right {\r\n\t\tflex: 1;\r\n\t\tpadding-left: 20rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\t.top {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t.like {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tcolor: #9a9a9a;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t.num {\r\n\t\t\t\t\tmargin-right: 4rpx;\r\n\t\t\t\t\tcolor: #9a9a9a;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.highlight {\r\n\t\t\t\tcolor: #5677fc;\r\n\t\t\t\t.num {\r\n\t\t\t\t\tcolor: #5677fc;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.content {\r\n\t\t\tmargin-bottom: 10rpx;\r\n\r\n\t\t\tp {\r\n\t\t\t\tfont-size: 30upx;\r\n\t\t\t\tfont-weight: 700;\r\n\t\t\t\tmargin-bottom: 10upx;\r\n\t\t\t\tcolor: #597ef7;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.reply-box {\r\n\t\t\tbackground-color: rgb(242, 242, 242);\r\n\t\t\tborder-radius: 12rpx;\r\n\t\t\t.item {\r\n\t\t\t\tpadding: 20rpx;\r\n\t\t\t\tborder-bottom: solid 1rpx $u-border-color;\r\n\t\t\t\tdisplay: flex;\r\n\r\n\t\t\t\t.left {\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 60rpx;\r\n\t\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\tbackground-color: #f2f2f2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.username {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #000;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.sendTime {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.all-reply {\r\n\t\t\t\tpadding: 20rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tcolor: #5677fc;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t.more {\r\n\t\t\t\t\tmargin-left: 6rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.bottom {\r\n\t\t\tmargin-top: 20upx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tfont-size: 26upx;\r\n\t\t\talign-items: center;\r\n\t\t\tcolor: #9a9a9a;\r\n\t\t\t.reply {\r\n\t\t\t\tcolor: #5677fc;\r\n\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.addBox {\r\n\tposition: fixed;\r\n\tleft: 0;\r\n\tbottom: 0;\r\n\tmargin: 40upx;\r\n\twidth: 670upx;\r\n\tz-index: 100;\r\n}\r\n.placeholder {\r\n\tcolor: #303133 !important;\r\n\tfont-size: 24upx !important;\r\n}\r\n.imgsBox {\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\r\n\t.item {\r\n\t\tmargin: 10upx;\r\n\t}\r\n}\r\n</style>\n","import mod from \"-!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exp.vue?vue&type=style&index=0&id=5299b57c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../dev/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exp.vue?vue&type=style&index=0&id=5299b57c&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1629115274003\n      var cssReload = require(\"D:/dev/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}